(()=>{var Be=Object.defineProperty;var $=Object.getOwnPropertySymbols;var Q=Object.prototype.hasOwnProperty,X=Object.prototype.propertyIsEnumerable;var Z=(e,t,n)=>t in e?Be(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,E=(e,t)=>{for(var n in t||(t={}))Q.call(t,n)&&Z(e,n,t[n]);if($)for(var n of $(t))X.call(t,n)&&Z(e,n,t[n]);return e};var S=(e,t)=>{var n={};for(var o in e)Q.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&$)for(var o of $(e))t.indexOf(o)<0&&X.call(e,o)&&(n[o]=e[o]);return n};var U,f,ee,H,A,te,ne,oe,F={},re=[],Le=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function P(e,t){for(var n in t)e[n]=t[n];return e}function _e(e){var t=e.parentNode;t&&t.removeChild(e)}function c(e,t,n){var o,s,r,a={};for(r in t)r=="key"?o=t[r]:r=="ref"?s=t[r]:a[r]=t[r];if(arguments.length>2&&(a.children=arguments.length>3?U.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(r in e.defaultProps)a[r]===void 0&&(a[r]=e.defaultProps[r]);return N(e,a,o,s,null)}function N(e,t,n,o,s){var r={type:e,props:t,key:n,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:s==null?++ee:s};return f.vnode!=null&&f.vnode(r),r}function C(e){return e.children}function W(e,t){this.props=e,this.context=t}function M(e,t){if(t==null)return e.__?M(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?M(e):null}function se(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return se(e)}}function j(e){(!e.__d&&(e.__d=!0)&&A.push(e)&&!I.__r++||ne!==f.debounceRendering)&&((ne=f.debounceRendering)||te)(I)}function I(){for(var e;I.__r=A.length;)e=A.sort(function(t,n){return t.__v.__b-n.__v.__b}),A=[],e.some(function(t){var n,o,s,r,a,p;t.__d&&(a=(r=(n=t).__v).__e,(p=n.__P)&&(o=[],(s=P({},r)).__v=r.__v+1,G(p,r,s,n.__n,p.ownerSVGElement!==void 0,r.__h!=null?[a]:null,o,a==null?M(r):a,r.__h),de(o,r),r.__e!=a&&se(r)))})}function ce(e,t,n,o,s,r,a,p,h,d){var _,y,u,l,i,g,m,v=o&&o.__k||re,b=v.length;for(n.__k=[],_=0;_<t.length;_++)if((l=n.__k[_]=(l=t[_])==null||typeof l=="boolean"?null:typeof l=="string"||typeof l=="number"||typeof l=="bigint"?N(null,l,null,null,l):Array.isArray(l)?N(C,{children:l},null,null,null):l.__b>0?N(l.type,l.props,l.key,null,l.__v):l)!=null){if(l.__=n,l.__b=n.__b+1,(u=v[_])===null||u&&l.key==u.key&&l.type===u.type)v[_]=void 0;else for(y=0;y<b;y++){if((u=v[y])&&l.key==u.key&&l.type===u.type){v[y]=void 0;break}u=null}G(e,l,u=u||F,s,r,a,p,h,d),i=l.__e,(y=l.ref)&&u.ref!=y&&(m||(m=[]),u.ref&&m.push(u.ref,null,l),m.push(y,l.__c||i,l)),i!=null?(g==null&&(g=i),typeof l.type=="function"&&l.__k!=null&&l.__k===u.__k?l.__d=h=ie(l,h,e):h=le(e,l,u,v,i,h),d||n.type!=="option"?typeof n.type=="function"&&(n.__d=h):e.value=""):h&&u.__e==h&&h.parentNode!=e&&(h=M(u))}for(n.__e=g,_=b;_--;)v[_]!=null&&(typeof n.type=="function"&&v[_].__e!=null&&v[_].__e==n.__d&&(n.__d=M(o,_+1)),he(v[_],v[_]));if(m)for(_=0;_<m.length;_++)pe(m[_],m[++_],m[++_])}function ie(e,t,n){var o,s;for(o=0;o<e.__k.length;o++)(s=e.__k[o])&&(s.__=e,t=typeof s.type=="function"?ie(s,t,n):le(n,s,s,e.__k,s.__e,t));return t}function le(e,t,n,o,s,r){var a,p,h;if(t.__d!==void 0)a=t.__d,t.__d=void 0;else if(n==null||s!=r||s.parentNode==null)e:if(r==null||r.parentNode!==e)e.appendChild(s),a=null;else{for(p=r,h=0;(p=p.nextSibling)&&h<o.length;h+=2)if(p==s)break e;e.insertBefore(s,r),a=r}return a!==void 0?a:s.nextSibling}function De(e,t,n,o,s){var r;for(r in n)r==="children"||r==="key"||r in t||V(e,r,null,n[r],o);for(r in t)s&&typeof t[r]!="function"||r==="children"||r==="key"||r==="value"||r==="checked"||n[r]===t[r]||V(e,r,t[r],n[r],o)}function ae(e,t,n){t[0]==="-"?e.setProperty(t,n):e[t]=n==null?"":typeof n!="number"||Le.test(t)?n:n+"px"}function V(e,t,n,o,s){var r;e:if(t==="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof o=="string"&&(e.style.cssText=o=""),o)for(t in o)n&&t in n||ae(e.style,t,"");if(n)for(t in n)o&&n[t]===o[t]||ae(e.style,t,n[t])}else if(t[0]==="o"&&t[1]==="n")r=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+r]=n,n?o||e.addEventListener(t,r?fe:ue,r):e.removeEventListener(t,r?fe:ue,r);else if(t!=="dangerouslySetInnerHTML"){if(s)t=t.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(t!=="href"&&t!=="list"&&t!=="form"&&t!=="tabIndex"&&t!=="download"&&t in e)try{e[t]=n==null?"":n;break e}catch(a){}typeof n=="function"||(n!=null&&(n!==!1||t[0]==="a"&&t[1]==="r")?e.setAttribute(t,n):e.removeAttribute(t))}}function ue(e){this.l[e.type+!1](f.event?f.event(e):e)}function fe(e){this.l[e.type+!0](f.event?f.event(e):e)}function G(e,t,n,o,s,r,a,p,h){var d,_,y,u,l,i,g,m,v,b,T,w=t.type;if(t.constructor!==void 0)return null;n.__h!=null&&(h=n.__h,p=t.__e=n.__e,t.__h=null,r=[p]),(d=f.__b)&&d(t);try{e:if(typeof w=="function"){if(m=t.props,v=(d=w.contextType)&&o[d.__c],b=d?v?v.props.value:d.__:o,n.__c?g=(_=t.__c=n.__c).__=_.__E:("prototype"in w&&w.prototype.render?t.__c=_=new w(m,b):(t.__c=_=new W(m,b),_.constructor=w,_.render=Ue),v&&v.sub(_),_.props=m,_.state||(_.state={}),_.context=b,_.__n=o,y=_.__d=!0,_.__h=[]),_.__s==null&&(_.__s=_.state),w.getDerivedStateFromProps!=null&&(_.__s==_.state&&(_.__s=P({},_.__s)),P(_.__s,w.getDerivedStateFromProps(m,_.__s))),u=_.props,l=_.state,y)w.getDerivedStateFromProps==null&&_.componentWillMount!=null&&_.componentWillMount(),_.componentDidMount!=null&&_.__h.push(_.componentDidMount);else{if(w.getDerivedStateFromProps==null&&m!==u&&_.componentWillReceiveProps!=null&&_.componentWillReceiveProps(m,b),!_.__e&&_.shouldComponentUpdate!=null&&_.shouldComponentUpdate(m,_.__s,b)===!1||t.__v===n.__v){_.props=m,_.state=_.__s,t.__v!==n.__v&&(_.__d=!1),_.__v=t,t.__e=n.__e,t.__k=n.__k,t.__k.forEach(function(D){D&&(D.__=t)}),_.__h.length&&a.push(_);break e}_.componentWillUpdate!=null&&_.componentWillUpdate(m,_.__s,b),_.componentDidUpdate!=null&&_.__h.push(function(){_.componentDidUpdate(u,l,i)})}_.context=b,_.props=m,_.state=_.__s,(d=f.__r)&&d(t),_.__d=!1,_.__v=t,_.__P=e,d=_.render(_.props,_.state,_.context),_.state=_.__s,_.getChildContext!=null&&(o=P(P({},o),_.getChildContext())),y||_.getSnapshotBeforeUpdate==null||(i=_.getSnapshotBeforeUpdate(u,l)),T=d!=null&&d.type===C&&d.key==null?d.props.children:d,ce(e,Array.isArray(T)?T:[T],t,n,o,s,r,a,p,h),_.base=t.__e,t.__h=null,_.__h.length&&a.push(_),g&&(_.__E=_.__=null),_.__e=!1}else r==null&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=$e(n.__e,t,n,o,s,r,a,h);(d=f.diffed)&&d(t)}catch(D){t.__v=null,(h||r!=null)&&(t.__e=p,t.__h=!!h,r[r.indexOf(p)]=null),f.__e(D,t,n)}}function de(e,t){f.__c&&f.__c(t,e),e.some(function(n){try{e=n.__h,n.__h=[],e.some(function(o){o.call(n)})}catch(o){f.__e(o,n.__v)}})}function $e(e,t,n,o,s,r,a,p){var h,d,_,y=n.props,u=t.props,l=t.type,i=0;if(l==="svg"&&(s=!0),r!=null){for(;i<r.length;i++)if((h=r[i])&&(h===e||(l?h.localName==l:h.nodeType==3))){e=h,r[i]=null;break}}if(e==null){if(l===null)return document.createTextNode(u);e=s?document.createElementNS("http://www.w3.org/2000/svg",l):document.createElement(l,u.is&&u),r=null,p=!1}if(l===null)y===u||p&&e.data===u||(e.data=u);else{if(r=r&&U.call(e.childNodes),d=(y=n.props||F).dangerouslySetInnerHTML,_=u.dangerouslySetInnerHTML,!p){if(r!=null)for(y={},i=0;i<e.attributes.length;i++)y[e.attributes[i].name]=e.attributes[i].value;(_||d)&&(_&&(d&&_.__html==d.__html||_.__html===e.innerHTML)||(e.innerHTML=_&&_.__html||""))}if(De(e,u,y,s,p),_)t.__k=[];else if(i=t.props.children,ce(e,Array.isArray(i)?i:[i],t,n,o,s&&l!=="foreignObject",r,a,r?r[0]:n.__k&&M(n,0),p),r!=null)for(i=r.length;i--;)r[i]!=null&&_e(r[i]);p||("value"in u&&(i=u.value)!==void 0&&(i!==e.value||l==="progress"&&!i)&&V(e,"value",i,y.value,!1),"checked"in u&&(i=u.checked)!==void 0&&i!==e.checked&&V(e,"checked",i,y.checked,!1))}return e}function pe(e,t,n){try{typeof e=="function"?e(t):e.current=t}catch(o){f.__e(o,n)}}function he(e,t,n){var o,s;if(f.unmount&&f.unmount(e),(o=e.ref)&&(o.current&&o.current!==e.__e||pe(o,null,t)),(o=e.__c)!=null){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(r){f.__e(r,t)}o.base=o.__P=null}if(o=e.__k)for(s=0;s<o.length;s++)o[s]&&he(o[s],t,typeof e.type!="function");n||e.__e==null||_e(e.__e),e.__e=e.__d=void 0}function Ue(e,t,n){return this.constructor(e,n)}function me(e,t,n){var o,s,r;f.__&&f.__(e,t),s=(o=typeof n=="function")?null:n&&n.__k||t.__k,r=[],G(t,e=(!o&&n||t).__k=c(C,null,[e]),s||F,F,t.ownerSVGElement!==void 0,!o&&n?[n]:s?null:t.firstChild?U.call(t.childNodes):null,r,!o&&n?n:s?s.__e:t.firstChild,o),de(r,e)}function ve(e,t){var n={__c:t="__cC"+oe++,__:e,Consumer:function(o,s){return o.children(s)},Provider:function(o){var s,r;return this.getChildContext||(s=[],(r={})[t]=this,this.getChildContext=function(){return r},this.shouldComponentUpdate=function(a){this.props.value!==a.value&&s.some(j)},this.sub=function(a){s.push(a);var p=a.componentWillUnmount;a.componentWillUnmount=function(){s.splice(s.indexOf(a),1),p&&p.call(a)}}),o.children}};return n.Provider.__=n.Consumer.contextType=n}U=re.slice,f={__e:function(e,t){for(var n,o,s;t=t.__;)if((n=t.__c)&&!n.__)try{if((o=n.constructor)&&o.getDerivedStateFromError!=null&&(n.setState(o.getDerivedStateFromError(e)),s=n.__d),n.componentDidCatch!=null&&(n.componentDidCatch(e),s=n.__d),s)return n.__E=n}catch(r){e=r}throw e}},ee=0,H=function(e){return e!=null&&e.constructor===void 0},W.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=P({},this.state),typeof e=="function"&&(e=e(P({},n),this.props)),e&&P(n,e),e!=null&&this.__v&&(t&&this.__h.push(t),j(this))},W.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),j(this))},W.prototype.render=C,A=[],te=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,I.__r=0,oe=0;var O,k,ye,R=0,K=[],ge=f.__b,be=f.__r,ke=f.diffed,we=f.__c,Ce=f.unmount;function Y(e,t){f.__h&&f.__h(k,e,R||t),R=0;var n=k.__H||(k.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function x(e){return R=1,Fe(He,e)}function Fe(e,t,n){var o=Y(O++,2);return o.t=e,o.__c||(o.__=[n?n(t):He(void 0,t),function(s){var r=o.t(o.__[0],s);o.__[0]!==r&&(o.__=[r,o.__[1]],o.__c.setState({}))}],o.__c=k),o.__}function B(e,t){var n=Y(O++,3);!f.__s&&Se(n.__H,t)&&(n.__=e,n.__H=t,k.__H.__h.push(n))}function xe(e){return R=5,Ne(function(){return{current:e}},[])}function Ne(e,t){var n=Y(O++,7);return Se(n.__H,t)&&(n.__=e(),n.__H=t,n.__h=e),n.__}function We(){K.forEach(function(e){if(e.__P)try{e.__H.__h.forEach(q),e.__H.__h.forEach(J),e.__H.__h=[]}catch(t){e.__H.__h=[],f.__e(t,e.__v)}}),K=[]}f.__b=function(e){k=null,ge&&ge(e)},f.__r=function(e){be&&be(e),O=0;var t=(k=e.__c).__H;t&&(t.__h.forEach(q),t.__h.forEach(J),t.__h=[])},f.diffed=function(e){ke&&ke(e);var t=e.__c;t&&t.__H&&t.__H.__h.length&&(K.push(t)!==1&&ye===f.requestAnimationFrame||((ye=f.requestAnimationFrame)||function(n){var o,s=function(){clearTimeout(r),Ee&&cancelAnimationFrame(o),setTimeout(n)},r=setTimeout(s,100);Ee&&(o=requestAnimationFrame(s))})(We)),k=void 0},f.__c=function(e,t){t.some(function(n){try{n.__h.forEach(q),n.__h=n.__h.filter(function(o){return!o.__||J(o)})}catch(o){t.some(function(s){s.__h&&(s.__h=[])}),t=[],f.__e(o,n.__v)}}),we&&we(e,t)},f.unmount=function(e){Ce&&Ce(e);var t=e.__c;if(t&&t.__H)try{t.__H.__.forEach(q)}catch(n){f.__e(n,t.__v)}};var Ee=typeof requestAnimationFrame=="function";function q(e){var t=k;typeof e.__c=="function"&&e.__c(),k=t}function J(e){var t=k;e.__c=e.__(),k=t}function Se(e,t){return!e||e.length!==t.length||t.some(function(n,o){return n!==e[o]})}function He(e,t){return typeof t=="function"?t(e):t}var Ie=ve(null),rt=Ie.Provider;function Ve(e){let o=e,{children:t}=o,n=S(o,["children"]);return c("a",E({target:"_blank",rel:"noopener noreferrer"},n),t)}function z(e){let a=e,{children:t,clazz:n,icon:o,onClick:s}=a,r=S(a,["children","clazz","icon","onClick"]);return c("button",E({onClick:s,class:`button ${n||""}`},r),!!o&&c("span",{class:"icon"},c("i",{class:o})),c("span",null,t))}function Pe(e){let a=e,{children:t,clazz:n="",show:o=!1,closeBtn:s=!0}=a,r=S(a,["children","clazz","show","closeBtn"]);return c("div",E({class:`modal ${n} ${o?"is-active":""}`},r),c("div",{class:"modal-background"}),c("div",{class:"modal-content"},t),s&&c("button",{class:"modal-close is-large","aria-label":"close"}))}function L(e){let l=e,{children:t,header:n,title:o,cardImage:s,footer:r,clazz:a,isExpand:p=!0}=l,h=S(l,["children","header","title","cardImage","footer","clazz","isExpand"]),[d,_]=x(p),y=r?c("footer",{class:"card-footer"},H(r)&&r,r.map(i=>{if(H(i))return i;let v=i,{text:g}=v,m=S(v,["text"]);return c(Ve,E({class:"card-footer-item"},m),g)})):null,u=d?c(C,null,s&&H(s)&&c("div",{class:"card-image"},s),t&&c("div",{class:"card-content"},t),y):null;return c("div",E({class:`card ${a||"block"}`},h),n&&H(n)&&c("header",{class:"card-header"},n),o&&c("header",{class:"card-header"},c("p",{class:"card-header-title"},o),c("button",{class:"card-header-icon","aria-label":"more options",onClick:i=>_(g=>!g)},c("span",{class:"icon"},c("i",{class:`fas fa-angle-${d?"up":"down"}`,"aria-hidden":"true"})))),u)}function ze(e){let{topEl:t}=e,[n,o]=x(!1);B(()=>{let r=a=>{if(!t.current)return null;let{top:p}=t.current.getBoundingClientRect();o(p<0)};return window.addEventListener("scroll",r),()=>{window.removeEventListener("scroll",r)}},[]);let s=r=>{t==null||t.current.scrollIntoView()};return n?c("button",{onClick:s,class:"button is-large",style:"position: fixed;right: 1rem;bottom: 1rem;z-index: 128;"},c("span",{class:"icon"},c("i",{class:"fas fa-angle-up fa-lg"}))):null}var Te=(e=768)=>(window.innerWidth>0?window.innerWidth:screen.width)<e;function Me(e=768){let[t,n]=x(Te(e));return B(()=>{let o=s=>{n(Te(e))};return window.addEventListener("resize",o,!0),()=>{window.removeEventListener(o)}},[]),t}var Ae="http://127.0.0.1:7100",Oe=(e,t)=>{let n=`${Ae}/api/list`;fetch(n).then(function(o){return o.json()}).then(function(o){e&&e(o)}).catch(o=>{t&&t(o)})},Re=(e,t,n)=>{let o=`${Ae}/api/buy?ver=${t}&item=${e}`;fetch(o,{method:"POST"}).then(function(s){return s.text()}).then(function(s){n&&n(s)})};function qe(){let e=xe(null),n=Me()?"":"min-height: unset;height: 2rem;",[o,s]=x({show:!1,content:null,cb:null}),[r,a]=x({ver:-1,item:[]}),[p,h]=x(null);B(()=>{Oe(i=>{a(i)},i=>{h("\u8ACB\u5148\u767B\u5165\u904A\u6232, \u518D\u91CD\u65B0\u6574\u7406\u7DB2\u9801!")})},[]);let d=()=>{s({show:!1,content:null})},_=i=>g=>{let{ver:m,item:v}=r;v[i];let{cost:b,name:T}=v[i];s({show:!0,content:c(L,{footer:[c(z,{clazz:"card-footer-item is-success",icon:"fas fa-check",onClick:()=>{y(m,i,v[i])}},"Yes"),c(z,{clazz:"card-footer-item is-danger",icon:"fas fa-times",onClick:d},"No")]},"buy ",T,"?")})},y=(i,g,m)=>{d(),Re(g,i,v=>{switch(v.trim()){case"ok":s({show:!0,content:c(L,{footer:[c(z,{clazz:"card-footer-item",onClick:d},"OK")]},"\u8CFC\u8CB7\u6210\u529F!")});break;case"not found":s({show:!0,content:c(L,{footer:[c(z,{clazz:"card-footer-item",onClick:d},"OK")]},"\u8CFC\u8CB7\u5931\u6557! \u8ACB\u91CD\u6574\u5F8C\u518D\u8A66!")});break;default:s({show:!0,content:c(L,{footer:[c(z,{clazz:"card-footer-item",onClick:d},"OK")]},"Unknown Error: ",v)})}})},u=r.item.map((i,g)=>c("div",{class:"column is-half-tablet is-one-third-desktop is-one-quarter-widescreen"},c(je,{name:i.name,price:i.cost,desc:i.desc,cardImage:i.img,footer:c(z,{clazz:"card-footer-item is-warning",icon:"fas fa-shopping-cart",onClick:_(g)},"GP$ ",i.cost)})));return c(C,null,c("nav",{class:"navbar",role:"navigation","aria-label":"dropdown navigation",style:n},c("div",{class:"navbar-brand"},c("a",{class:"navbar-item",href:"https://sauceburnseal.net/"},c(z,{icon:"fas fa-arrow-left"},"\u56DE\u5230\u5B98\u7DB2")))),c("section",{class:"section"},c("div",{class:"columns is-flex-wrap-wrap"},c(ze,{topEl:e}),c("div",{ref:e}),p?c("article",{class:"message is-warning mx-auto",style:"width: 100%"},c("div",{class:"message-header"},c("p",null,"\u5B58\u53D6\u5931\u6557")),c("div",{class:"message-body"},p)):null,u)),c(Pe,{show:o.show,closeBtn:!1},o.content))}me(c(qe),document.getElementById("app"));function je(e){let g=e,{children:t,name:n,cardImage:o,footer:s,clazz:r,isExpand:a=!0,price:p=-1,desc:h}=g,d=S(g,["children","name","cardImage","footer","clazz","isExpand","price","desc"]),[_,y]=x(a),u=(o==null?void 0:o.map((m,v)=>c("figure",{class:"image"},c("img",{src:m,alt:n}))))||null,l=s?c("footer",{class:"card-footer"},H(s)&&s):null,i=_?c(C,null,o&&c("div",{class:"card-image"},u),h&&c("div",{class:"card-content"},h),t&&c("div",{class:"card-content"},h,t),l):null;return c("div",E({class:`card ${r||"block"}`},d),n&&c("header",{class:"card-header"},c("p",{class:"card-header-title"},n),c("button",{class:"card-header-icon","aria-label":"more options",onClick:m=>y(v=>!v)},c("span",{class:"icon"},c("i",{class:`fas fa-angle-${_?"up":"down"}`,"aria-hidden":"true"})))),i)}})();
